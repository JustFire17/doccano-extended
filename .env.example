# ================================
# Doccano Extended - Environment Configuration
# ================================
# Copy this file to .env and update with your values
# DO NOT commit .env to version control!
# ================================

# ================================
# Django Settings
# ================================

# SECURITY WARNING: Keep the secret key used in production secret!
# Generate a new one: python -c "from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())"
SECRET_KEY=change-me-to-a-random-50-character-string-in-production

# SECURITY WARNING: Don't run with debug turned on in production!
DEBUG=False

# Comma-separated list of allowed hosts
# Example: localhost,127.0.0.1,yourdomain.com,192.168.56.1
ALLOWED_HOSTS=localhost,127.0.0.1,192.168.56.1

# ================================
# Database Configuration
# ================================

# SQLite (default for development)
DATABASE_URL=sqlite:///db.sqlite3

# PostgreSQL (recommended for production)
# DATABASE_URL=postgres://USER:PASSWORD@HOST:PORT/DATABASE
# Example: DATABASE_URL=postgres://doccano:password@localhost:5432/doccano

# MySQL (alternative)
# DATABASE_URL=mysql://USER:PASSWORD@HOST:PORT/DATABASE

# Connection pool settings
DATABASE_CONN_MAX_AGE=500

# ================================
# CORS & Security Settings
# ================================

# Comma-separated list of allowed origins for CORS
# For development, include:
#  - http://localhost:3000 (main dev)
#  - http://127.0.0.1:3000 (loopback)
#  - http://192.168.56.1:3000 (common WSL from Windows)
#  - http://192.168.1.1:3000 (another common WSL/network IP)
#  - https://* (HTTPS variants if needed)
# 
# Add your specific IP here if frontend runs on a different machine/network.
# Common WSL/Network IPs to try: 192.168.56.1, 192.168.1.*, 172.x.x.x
# Check your IP with: ifconfig (Linux) or "ipconfig" (Windows PowerShell in WSL)
#
# For production, use your actual domain (e.g., https://yourdomain.com)
# Example: http://localhost:3000,http://127.0.0.1:3000,http://192.168.56.1:3000,https://yourdomain.com
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://192.168.56.1:3000,http://192.168.1.1:3000,https://localhost:3000,https://127.0.0.1:3000,https://192.168.56.1:3000,https://192.168.1.1:3000

# CSRF Trusted Origins (should match CORS_ALLOWED_ORIGINS)
# This prevents cross-site request forgery attacks
CSRF_TRUSTED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://192.168.56.1:3000,http://192.168.1.1:3000,https://localhost:3000,https://127.0.0.1:3000,https://192.168.56.1:3000,https://192.168.1.1:3000

# ================================
# Admin User Configuration
# ================================
# Used by the setup script - change these for production!
ADMIN_USERNAME=admin
ADMIN_PASSWORD=admin
ADMIN_EMAIL=admin@example.com

# ================================
# Celery Configuration
# ================================
# For development, use SQLite-based broker (simple, no external dependencies)
# For production, use RabbitMQ or Redis
CELERY_BROKER_URL=sqla+sqlite:///db.sqlite3
CELERY_RESULT_BACKEND=db+sqlite:///celery-results.sqlite3

# ================================
# Email Configuration (Optional)
# ================================
# For production, configure a real email backend (e.g., SendGrid, AWS SES)
# EMAIL_BACKEND=django.core.mail.backends.console.EmailBackend
# EMAIL_HOST=smtp.gmail.com
# EMAIL_PORT=587
# EMAIL_USE_TLS=True
# EMAIL_HOST_USER=your-email@gmail.com
# EMAIL_HOST_PASSWORD=your-password

# ================================
# Logging
# ================================
LOG_LEVEL=INFO

# ================================
# Storage
# ================================
# For production, use cloud storage (AWS S3, Azure Blob Storage, GCS)
# STORAGE_BACKEND=storages.backends.s3boto3.S3Boto3Storage
# AWS_ACCESS_KEY_ID=your-key
# AWS_SECRET_ACCESS_KEY=your-secret
# AWS_STORAGE_BUCKET_NAME=your-bucket


# Enable secure cookies (set to True in production with HTTPS)
SESSION_COOKIE_SECURE=False
CSRF_COOKIE_SECURE=False

# ================================
# Admin User Configuration
# ================================

# Initial admin user credentials (used in setup)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@example.com
ADMIN_PASSWORD=change-this-password-immediately

# ================================
# Celery Configuration (Async Tasks)
# ================================

# Redis (recommended for production)
# CELERY_BROKER_URL=redis://localhost:6379/0
# REDIS_URL=redis://localhost:6379/0

# RabbitMQ (alternative)
# CELERY_BROKER_URL=amqp://user:password@localhost:5672//

# SQLite (development only - not recommended for production)
CELERY_BROKER_URL=sqla+sqlite:///db.sqlite3

# ================================
# Email Configuration
# ================================

# Email settings for user verification and notifications
EMAIL_USE_TLS=True
EMAIL_HOST=smtp.gmail.com
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
EMAIL_PORT=587
DEFAULT_FROM_EMAIL=noreply@yourdomain.com

# Leave EMAIL_HOST empty to use console backend (prints emails to console)
# EMAIL_HOST=

# ================================
# File Upload Settings
# ================================

# Maximum file upload size in bytes (default: 1GB)
MAX_UPLOAD_SIZE=1073741824

# Enable file type checking
ENABLE_FILE_TYPE_CHECK=False

# Media files location
MEDIA_ROOT=media

# ================================
# Application Settings
# ================================

# Pagination size
DOCCANO_PAGE_SIZE=10

# Batch size for data import
IMPORT_BATCH_SIZE=1000

# ================================
# Role Names (don't change unless you know what you're doing)
# ================================

ROLE_PROJECT_ADMIN=project_admin
ROLE_ANNOTATOR=annotator
ROLE_ANNOTATION_APPROVER=annotation_approver

# ================================
# Cloud Storage (Optional)
# ================================

# Google Cloud Storage
# GS_BUCKET_NAME=your-bucket-name
# GS_PROJECT_ID=your-project-id
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/credentials.json

# AWS S3
# AWS_ACCESS_KEY_ID=your-access-key
# AWS_SECRET_ACCESS_KEY=your-secret-key
# AWS_STORAGE_BUCKET_NAME=your-bucket-name
# AWS_S3_REGION_NAME=us-east-1

# ================================
# OAuth/SSO Configuration (Optional)
# ================================

# Okta OAuth2
# OAUTH_OKTA_OAUTH2_API_URL=https://your-org.okta.com/oauth2/default
# OAUTH_OKTA_OAUTH2_KEY=your-client-id
# OAUTH_OKTA_OAUTH2_SECRET=your-client-secret

# ================================
# Monitoring & Analytics (Optional)
# ================================

# Google Analytics
# GOOGLE_TRACKING_ID=UA-XXXXXXXXX-X

# ================================
# Advanced Settings
# ================================

# Header-based authentication (for SSO integration)
# HEADER_AUTH_USER_NAME=HTTP_X_AUTH_USER
# HEADER_AUTH_USER_GROUPS=HTTP_X_AUTH_GROUPS
# HEADER_AUTH_ADMIN_GROUP_NAME=admin
# HEADER_AUTH_GROUPS_SEPERATOR=,

# Django settings module (change for different environments)
# DJANGO_SETTINGS_MODULE=config.settings.development
# DJANGO_SETTINGS_MODULE=config.settings.production

# ================================
# Development-Only Settings
# ================================

# Set to True only for local development
# DEBUG=True
# ALLOWED_HOSTS=*
# CORS_ALLOW_ALL_ORIGINS=True
